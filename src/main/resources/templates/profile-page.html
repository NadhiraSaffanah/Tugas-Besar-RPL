<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile Page</title>
    <link rel="stylesheet" th:href="@{/css/profile-page.css}">
</head>

<body>
    <header>
        <nav>
            <ul id="nav-left">
                <li><img src="images/book.png" alt="book icon"></li>
                <li><a href="home-page.html">Home</a></li>
                <li><a href="course-home.html">Course</a></li>
            </ul>
            <ul id="nav-right">
                <li>
                    <span>Nama</span>
                    <span>61823010xx@unpar.ac.id</span>
                </li>
                <li>
                    <div>
                        <a href="profile-page.html">
                            <img src="" alt="profile picture">
                        </a>
                    </div>
                </li>
                <li><img src="images/bell.png" alt="notification icon"></li>
                <li><img src="images/logout.png" alt="logout icon"></li>
            </ul>
        </nav>
    </header>

    <main>
        <section class="profile-card">

            <div class="profile-avatar"> <!--th:src="@{${user.fotoProfil}}"-->
                <img id="profile-img" src="" alt="profile picture">
                <input id="file-input" type="file" accept="image/*" style="display:none" />
                <button id="pfp-btn" type="file">
                    <img src="images/Edit.svg" alt="">
                    Change Profile Picture
                </button>

                <script>
                    const image = document.querySelector('#profile-img');
                    const fileInput = document.querySelector('#file-input');
                    const button = document.querySelector('#pfp-btn');

                    button.addEventListener("click", () => fileInput.click());

                    fileInput.addEventListener("change", () => {
                        image.src = URL.createObjectURL(fileInput.files[0]);
                    });
                </script>
            </div>

            <div class="divider"></div>

            <div class="profile-info">
                <div class="info-row">
                    <span class="label">NAME</span> <!--th:text="${user.nama}"-->
                    <span id="nama">Dogman Man of Dogs</span>
                </div>

                <div class="info-row">
                    <span class="label">EMAIL</span> <!--th:text="${user.email}"-->
                    <span id="email">dogman@lecturer.ac.id</span>
                </div>

                <div class="info-row">
                    <span class="label">ROLE</span> <!--th:text="${user.role}"-->
                    <span id="role">Lecturer</span>
                </div>

                <div class="info-row">
                    <span class="label">NPM</span> <!--th:text="${user.npm}"-->
                    <span id="npm">610309210192</span>
                </div>

                <div id="password-hid">
                    <div class="password-row">
                        <span class="label">PASSWORD</span>
                        <span id="passPlaceholder">********</span>
                    </div>

                    <div id="password-buttons">
                        <button id="edit-btn">
                            <img src="images/Edit.svg" alt="">
                            Change Password
                        </button>
                    </div>
                </div>

                <div id="password-edit" style="display: none;">
                    <div class="password-row">
                        <span class="label">PASSWORD</span>
                        <div class="editPassword">
                            <input type="password" id="old-password" placeholder="Enter old password">
                            <input type="password" id="new-password" placeholder="Enter new password">
                            <input type="password" id="confirm-password" placeholder="Retype new password">
                        </div>
                    </div>

                    <div id="password-buttons">
                        <button id="cancel-btn">
                            Cancel
                        </button>

                        <button id="save-btn">
                            <img src="images/Edit.svg" alt="">
                            Save Password
                        </button>
                    </div>
                </div>

                <script>
                    document.addEventListener("DOMContentLoaded", () => {

                        const viewBlock = document.getElementById("password-hid");
                        console.log(viewBlock);
                        const editBlock = document.getElementById("password-edit");
                        console.log(editBlock);
                        const showEditBtn = document.getElementById("edit-btn");
                        console.log(showEditBtn);
                        const cancelBtn = document.getElementById("cancel-btn");
                        console.log(cancelBtn);
                        showEditBtn.addEventListener("click", () => {
                            viewBlock.style.display = "none";     
                            editBlock.style.display = "block";    
                        });
 
                        cancelBtn.addEventListener("click", () => {
                            editBlock.style.display = "none";     
                            viewBlock.style.display = "block";    
                        });

                    });
                </script>
            </div>
        </section>
    </main>
</body>

</html>